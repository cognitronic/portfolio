angular.module("danny.ui",["danny.ui.tpls","danny.ui.change-password","danny.ui.login"]),angular.module("danny.ui.tpls",["template/components/change-password.tpl.html","template/components/login.tpl.html"]),angular.module("danny",["ui.router","ui.bootstrap","ram-utilities.ui","danny.ui"]).config(function($httpProvider,$stateProvider,$urlRouterProvider){$httpProvider.defaults.transformRequest=function(data){return void 0===data?data:$.param(data)},$httpProvider.defaults.useXDomain=!0,delete $httpProvider.defaults.headers.common["X-Requested-With"],$httpProvider.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",$httpProvider.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",$httpProvider.defaults.headers["delete"]={"Content-Type":"application/json; charset=UTF-8"},$stateProvider.state("root",{url:"/",views:{header:{templateUrl:"/src/core/layout/header.html",controllerAs:"HeaderController"},footer:{templateUrl:"/src/core/layout/footer.html",controllerAs:"FooterController"}},resolve:{test:function($state){$state.go("about")}}}).state("about",{url:"/about",views:{"main-container@":{templateUrl:"/src/about/index.html",controllerAs:"AboutController"},"header@":{templateUrl:"/src/core/layout/header.html",controllerAs:"HeaderController"}}}).state("post",{url:"/post",views:{"main-container@":{templateUrl:"/src/post/index.html",controller:"PostController as vm"},"header@":{templateUrl:"/src/core/layout/header.html",controllerAs:"HeaderController"}}}).state("contact",{url:"/contact",views:{"main-container@":{templateUrl:"/src/contact/index.html",controllerAs:"ContactController"},"header@":{templateUrl:"/src/core/layout/header.html",controllerAs:"HeaderController"}}}).state("login",{url:"/login",views:{"main-container@":{templateUrl:"/src/core/security/login.html",controller:"AuthenticationController as auth"},"header@":{templateUrl:"/src/core/layout/header.html",controllerAs:"HeaderController"}}}).state("change-password",{url:"/change-password",views:{"main-container@":{templateUrl:"/src/core/security/change-password.html"},"header@":{templateUrl:"/src/core/layout/header.html",controllerAs:"HeaderController"}}}),$urlRouterProvider.otherwise("/about")}),function(){"use strict";var AboutController=function(){};angular.module("danny").controller("AboutController",[AboutController])}(),function(){"use strict";var ramChangePassword=function($templateCache){console.log($templateCache.get("template/components/change-password.tpl.html"));var ChangePasswordController=function($state){var vm=this;vm.isFormInvalid=!0,vm.showMessage=!1;var isValid=function(){vm.username||vm.currentPassword||vm.newPassword||vm.confirmPassword||(vm.isFormInvalid=!1),vm.isFormInvalid=vm.newPassword!=vm.confirmPassword};vm.submit=function(){isValid()?(vm.showMessage=!0,vm.message="This form is invalid"):(vm.showMessage=!1,$state.go("about"))}},link=function(){};return{restrict:"EA",transclude:!0,scope:{username:"@",currentPassword:"@",newPassword:"@",confirmPassword:"@",submit:"&",isFormInvalid:"@",showMessage:"@",message:"@"},templateUrl:"template/components/change-password.tpl.html",controllerAs:"vm",controller:ChangePasswordController,link:link}};angular.module("danny.ui.change-password",[]).directive("ramChangePassword",["$templateCache",ramChangePassword]),angular.module("template/components/change-password.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/components/change-password.tpl.html",'<div ng-if="vm.showMessage" class="row"><div class="col-md-12 col-xs-12"><div><div class="error">{{vm.message}}</div></div></div></div><div class="row form-horizontal"><div class="form-group col-md-6 col-xs-12"><label class="control-label row-label" for="email">Email:</label><input type="email" id="email" ng-model="vm.username" tabindex="1" class="form-control required" name="email" autofocus /></div><div class="form-group col-md-6 col-xs-12"><label class="control-label row-label" for="pwd">Current Password:</label><input type="password" id="pwd" class="form-control required" tabindex="3" ng-model="vm.currentPassword" name="pwd"/></div><div class="form-group col-md-6 col-xs-12"><label class="control-label row-label" for="pwd">New Password:</label><input type="password" id="pwd" class="form-control required" tabindex="2" ng-model="vm.newPassword" name="pwd"/></div><div class="form-group col-md-6 col-xs-12"><label class="control-label row-label" for="pwd">Confirm Password:</label><input type="password" id="pwd" class="form-control required" tabindex="4" ng-model="vm.confirmPassword" name="pwd"/></div><div class="form-group col-md-6 col-xs-12"><p><button class="form-control btn btn-default" ng-disabled="vm.isFormInvalid" ng-click="vm.submit()">Submit</button></p></div></div></div>')}])}(),function(){"use strict";var ramLogin=function($state){var link=function($scope,$element){$scope.user={},$element.find("#login").bind("click",function(){$scope.onSubmit&&"function"==typeof $scope.onSubmit&&$scope.onSubmit({user:$scope.user}).then(function(data){data.success&&$state.go("post")})})};return{restrict:"EA",transclude:!0,scope:{onSubmit:"&ramOnSubmit"},templateUrl:"template/components/login.tpl.html",link:link}};angular.module("danny.ui.login",[]).directive("ramLogin",["$state",ramLogin]),angular.module("template/components/login.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/components/login.tpl.html",'<div class="row"><div class="col-md-4 col-md-offset-5 col-xs-12 col-xs-offset-2"><div><label for="email">Email:</label><input type="email" id="email" ng-model="user.username" class="required" name="email" autofocus /></div><div><label for="pwd">Password:</label><input type="password" id="pwd" class="required" ng-model="user.password" name="pwd"/></div><p><button id="login" class="btn btn-default" ng-click="onSubmit(user)">Login</button></p></div></div>')}])}(),function(){"use strict";var ContactController=function(){};angular.module("danny").controller("ContactController",["$scope",ContactController])}(),function(){"use strict";var BASE_API="/api/";angular.module("danny").constant("Constants",{ROUTES:{GET_POSTS:BASE_API+"post"}})}(),function(){"use strict";var FooterController=function(){};angular.module("danny").controller("FooterController",[FooterController])}(),function(){"use strict";var HeaderController=function(){};angular.module("danny").controller("HeaderController",[HeaderController])}(),function(){"use strict";var AuthenticationController=function($state,LoginService){var _message="turd",_user={},_onSubmit=function(user){return user?LoginService.authenticateUser(user):void 0};return{onSubmit:_onSubmit,message:_message,user:_user}};angular.module("danny").controller("AuthenticationController",["$state","LoginService","$q",AuthenticationController])}(),function(){"use strict";var LoginService=function(RestService,$state,$q){var _authenticateUser=function(user){var deferred=$q.defer();return RestService.postData("/api/login",null,null,{username:user.username,password:user.password},{showLoader:!0}).then(function(data){deferred.resolve(data)},function(reason){deferred.reject(reason)}),deferred.promise};return{authenticateUser:_authenticateUser}};angular.module("danny").factory("LoginService",["RestService","$state","$q",LoginService])}(),function(){"use strict";var PostController=function(PostService){function getPosts(){PostService.getPosts().then(function(data){vm.posts=data})}function init(){getPosts()}var vm=this;vm.posts={},init()};angular.module("danny").controller("PostController",["PostService",PostController])}(),function(){"use strict";var PostService=function(RestService,Constants,$q){var _getPosts=function(){var deferred=$q.defer(),_success=function(data){deferred.resolve(data)},_error=function(data){deferred.resolve(data)};return RestService.getData(Constants.ROUTES.GET_POSTS,null,null,_success,"",_error,{showLoader:!0}),deferred.promise};return{getPosts:_getPosts}};angular.module("danny").factory("PostService",["RestService","Constants","$q",PostService])}();